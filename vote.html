<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Boy Voting</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <h1>Best Boy of Class 10</h1>

        <p id="timer">Voting ends in: 05:00</p>

        <div id="vote-container"></div>

        <p id="totalVotes">Total Votes: 0</p>
    </div>
     <div id="comments-section">
    <h2>ðŸ’¬ Comments</h2>

    <!-- Input for new comments -->
    <textarea id="commentInput" placeholder="Write your comment..." rows="3"></textarea>
    <button id="submitComment">Post Comment</button>

    <!-- Display area for comments -->
    <ul id="commentsList"></ul>
</div>
    // Get User IP Address (for admin view only)
function getUserIP(callback) {
    fetch('https://api64.ipify.org?format=json')
        .then(response => response.json())
        .then(data => callback(data.ip))
        .catch(error => console.error('Error fetching IP:', error));
}

// Check if user is Admin
function isAdmin() {
    return localStorage.getItem('isAdmin') === 'true';
}

// Handle Comment Submission
document.getElementById('submitComment').addEventListener('click', () => {
    const commentInput = document.getElementById('commentInput');
    const commentText = commentInput.value.trim();

    if (!commentText) {
        alert('Please enter a comment before submitting.');
        return;
    }

    // Get User IP and Store Comment
    getUserIP((userIP) => {
        const comment = {
            text: commentText,
            timestamp: new Date().toLocaleString(),
            ip: userIP
        };

        // Save comment to Local Storage
        const comments = JSON.parse(localStorage.getItem('comments')) || [];
        comments.push(comment);
        localStorage.setItem('comments', JSON.stringify(comments));

        // Display comments and clear input
        displayComments();
        commentInput.value = '';
    });
});

// Display Comments (IP is only visible to admin)
function displayComments() {
    const commentsList = document.getElementById('commentsList');
    commentsList.innerHTML = '';

    const comments = JSON.parse(localStorage.getItem('comments')) || [];

    comments.forEach(comment => {
        const li = document.createElement('li');
        li.innerHTML = `
            <p>${comment.text}</p>
            <small>${comment.timestamp}</small>
            ${isAdmin() ? `<em>(IP: ${comment.ip})</em>` : ''}
        `;
        commentsList.appendChild(li);
    });
}

// Set Admin Access (Open DevTools and run this ONCE to become admin)
localStorage.setItem('isAdmin', 'true');

// Load comments on page load
window.addEventListener('load', displayComments);


    <script src="script.js"></script>

</body>

</html>
